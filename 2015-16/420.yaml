---
name: Mathematics
type: major
code: '420'
degree: B.A.

result:
  all:
    - requirement: Basics
    - requirement: Electives
    - requirement: Sequence

  audit:
    all:
      - where: {year: {$gte: $matriculation-year}}
        assert: {count(courses): {$gte: 6}}

      - where: {subject: {$in: [STAT, CSCI, MSCS]}}
        assert: {count(courses): {$lte: 2}}

requirements:
  Basics:
    result:
      all:
        - at_most: true
          either:
            - all:
                - at_most: true
                  any:
                    - course: MATH 120
                    - course: MATH 119
                    - ap: AP Calculus I
                - at_most: true
                  any:
                    - course: MATH 126
                    - course: MATH 128
                    - ap: IB Mathematics
            - ap: AP Calculus I and II
        - course: MATH 220

  Electives:
    result:
      from: courses

      limit:
        - at-most: 1
          where:
            course:
              $in:
                - STAT 212
                - STAT 214
                - STAT 272
                - MSCS 264

      where:
        $or:
          - attributes: {$eq: math_l2_electives}
          - attributes: {$eq: math_l3_electives}
          - attributes: {$eq: math_transitions}
          - attributes:
              $in:
                - math_perspective_a
                - math_perspective_c
                - math_perspective_d
                - math_perspective_m
          - $and:
              - subject: {$eq: MATH}
              - level: {$eq: 200}

      all:
        - assert: {count(courses): {$gte: 7, at_most: true}}

        - where: {attribute: {$eq: math_transitions}}
          assert: {count(courses): {$eq: 2}}
          message: Transitions

        - where: {level: {$eq: 300}}
          assert: {count(courses): {$gte: 2}}
          message: At least two 300-level courses

        - where: {$and: [{subject: {$eq: MATH}}, {level: {$eq: 300}}]}
          assert: {count(courses): {$gte: 1}}
          message: At least one 300-level MATH course

        - where:
            attributes:
              $in:
                - math_perspective_a
                - math_perspective_c
                - math_perspective_d
                - math_perspective_m
          assert: {count(math_perspectives): {$gte: 3}}
          message: At least three of the four perspectives

        - where:
            attributes:
              $in:
                - math_perspective_a
                - math_perspective_c
                - math_perspective_d
                - math_perspective_m
          assert: {count(courses): {$gte: 3}}
          message: >
            At least three of the four perspectives, spread across at least
            three courses

  Sequence:
    result:
      at_most: true
      any:
        - both:
            - {course: MATH 220, including claimed: true}
            - either:
                - {course: MATH 356, including claimed: true}
                - {course: MSCS 341, including claimed: true}
        - both:
            - {course: MATH 224, including claimed: true}
            - {course: MATH 348, including claimed: true}
        - both:
            - {course: MATH 226, including claimed: true}
            - {course: MATH 340, including claimed: true}
        - both:
            - {course: MATH 230, including claimed: true}
            - {course: MATH 330, including claimed: true}
        - both:
            - {course: MATH 232, including claimed: true}
            - {course: MATH 364, including claimed: true}
        - both:
            - {course: MATH 244, including claimed: true}
            - {course: MATH 344, including claimed: true}
        - both:
            - {course: MATH 252, including claimed: true}
            - {course: MATH 352, including claimed: true}
        - both:
            - {course: MATH 262, including claimed: true}
            - {course: STAT 322, including claimed: true}
